<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.ssafy.hotplace.model.mapper.HotPlaceMapper">

	<resultMap type="com.ssafy.hotplace.model.HotplaceDTO"
		id="hotplace">
		<id column="AREA_CD" property="areaCode" />
		<id column="AREA_NM" property="areaName" />
		<id column="AREA_CGT_LV" property="areaCongestLevel" />
		<id column="AREA_CGT_MSG" property="areaCongestMessage" />
		<id column="AREA_LIVE_MIN" property="areaLiveMin" />
		<id column="AREA_LIVE_MAX" property="areaLiveMax" />
	</resultMap>

	<insert id="writeHotPlace" parameterType="HashMap">
		insert into hotplaces (AREA_CD, AREA_NM, AREA_CGT_LV, AREA_CGT_MSG,
		AREA_LIVE_MIN, AREA_LIVE_MAX)
		values
		<foreach item="hotplace" index="index" collection="list" separator=",">
			(#{hotplace.areaCode}, #{hotplace.areaName}, #{hotplace.areaCongestLevel}, #{hotplace.areaCongestMessage}, #{hotplace.areaLiveMin}, #{hotplace.areaLiveMax})
		</foreach>
	</insert>
	
	<update id="updateHotPlace" parameterType="com.ssafy.hotplace.model.HotplaceDTO">
		update hotplaces
		set AREA_NM=#{hotplace.areaName}, AREA_CGT_LV=#{hotplace.areaCongestLevel}, AREA_CGT_MSG=#{hotplace.areaCongestMessage}, AREA_LIVE_MIN=#{hotplace.areaLiveMin}, AREA_LIVE_MAX=#{hotplace.areaLiveMax}
		where AREA_CD = #{hotplace.areaCode}
	</update>
	
</mapper>


<!--<foreach item="value" index="index" collection="hotplace.entrySet()" separator=",">
	"${value}"
</foreach>-->